<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SHADOW ADMIN - ITACHIIXT</title>
  <link href="" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#0f172a 0%,#1e1b4b 50%,#0f172a 100%);color:#fff;min-height:100vh;padding:20px;overflow-x:hidden;}
    .bubbles{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:0;pointer-events:none;}
    .bubbles span{position:absolute;bottom:-150px;border-radius:50%;animation:rise 25s infinite ease-in;opacity:0.6;}
    .bubbles span:nth-child(1){width:80px;height:80px;left:5%;animation-duration:18s;background:radial-gradient(circle,#ff149380,#ff149340);}
    .bubbles span:nth-child(2){width:60px;height:60px;left:15%;animation-duration:22s;background:radial-gradient(circle,#00ffeacc,#00ffea40);}
    .bubbles span:nth-child(3){width:100px;height:100px;left:35%;animation-duration:26s;background:radial-gradient(circle,#6a5acdcc,#6a5acd40);}
    .bubbles span:nth-child(4){width:50px;height:50px;left:55%;animation-duration:20s;background:radial-gradient(circle,#ffff0080,#ffff0040);}
    .bubbles span:nth-child(5){width:90px;height:90px;left:75%;animation-duration:24s;background:radial-gradient(circle,#ff450080,#ff450040);}
    .bubbles span:nth-child(6){width:120px;height:120px;left:85%;animation-duration:30s;background:radial-gradient(circle,#00bfffcc,#00bfff40);}
    @keyframes rise{0%{transform:translateY(0) scale(1);opacity:0.6;}100%{transform:translateY(-110vh) scale(1.5);opacity:0;}}
    .container{max-width:900px;margin:0 auto;position:relative;z-index:2;}
    .glass{background:rgba(255,255,255,0.08);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,0.15);border-radius:24px;box-shadow:0 8px 32px rgba(0,0,0,0.3);margin-bottom:20px;}
    .header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;}
    .header-left{display:flex;align-items:center;gap:12px;}
    .header-icon{width:48px;height:48px;background:linear-gradient(135deg,#ff1493,#00ffea);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;}
    .header h1{font-family:'Orbitron',sans-serif;font-size:clamp(1.2rem,4vw,1.5rem);font-weight:bold;background:linear-gradient(135deg,#ff1493,#00ffea);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:2px;}
    .header p{font-size:0.7rem;color:rgba(255,255,255,0.6);letter-spacing:1px;}
    .stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:20px;}
    .stat-card{padding:20px;text-align:center;}
    .stat-label{font-size:0.75rem;color:rgba(255,255,255,0.6);margin-bottom:4px;letter-spacing:2px;}
    .stat-value{font-family:'Orbitron',sans-serif;font-size:2rem;font-weight:bold;}
    .stat-value.primary{color:#ff1493;}
    .stat-value.success{color:#22c55e;}
    .stat-value.secondary{color:#00ffea;}
    .section-title{display:flex;align-items:center;gap:10px;font-family:'Orbitron',sans-serif;font-size:1rem;font-weight:bold;margin-bottom:16px;padding:20px 24px 0;letter-spacing:2px;}
    .section-title svg{color:#ff1493;}
    .add-key-form{display:grid;grid-template-columns:1fr auto auto auto;gap:12px;padding:0 24px 24px;}
    @media(max-width:700px){.add-key-form{grid-template-columns:1fr 1fr;}}
    .key-input{width:100%;padding:14px 16px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:16px;color:#fff;font-family:'Orbitron',sans-serif;font-size:1rem;letter-spacing:2px;text-transform:uppercase;outline:none;transition:all 0.3s;}
    .key-input:focus{border-color:#ff1493;box-shadow:0 0 20px rgba(255,20,147,0.2);}
    .key-input::placeholder{font-family:'Poppins',sans-serif;letter-spacing:normal;text-transform:none;color:rgba(255,255,255,0.4);}
    .generate-btn{display:flex;align-items:center;justify-content:center;gap:8px;padding:14px 20px;background:rgba(139,92,246,0.3);border:1px solid rgba(139,92,246,0.5);border-radius:16px;color:#fff;font-family:'Orbitron',sans-serif;font-weight:600;cursor:pointer;transition:all 0.3s;}
    .generate-btn:hover{background:rgba(139,92,246,0.5);}
    .expiry-select{padding:14px 16px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:16px;color:#fff;font-size:0.9rem;outline:none;cursor:pointer;}
    .expiry-select option{background:#1e1b4b;color:#fff;}
    .add-btn{display:flex;align-items:center;justify-content:center;gap:8px;padding:14px 24px;background:linear-gradient(135deg,#ff1493,#00ffea);border:none;border-radius:16px;color:#fff;font-family:'Orbitron',sans-serif;font-size:1rem;font-weight:bold;cursor:pointer;transition:all 0.3s;}
    .add-btn:hover{opacity:0.9;transform:scale(1.02);}
    .keys-section{padding:20px 24px;}
    .keys-header{display:flex;align-items:center;gap:10px;margin-bottom:16px;font-family:'Orbitron',sans-serif;letter-spacing:2px;}
    .keys-header svg{color:#22c55e;}
    .keys-list{max-height:400px;overflow-y:auto;}
    .key-card{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:16px;padding:16px 20px;border-radius:16px;margin-bottom:12px;animation:scaleIn 0.3s ease-out;background:rgba(34,197,94,0.1);border:1px solid rgba(34,197,94,0.3);}
    .key-info{flex:1;min-width:200px;}
    .key-name-row{display:flex;align-items:center;gap:10px;}
    .key-name{font-family:'Orbitron',sans-serif;font-size:1.1rem;font-weight:bold;letter-spacing:2px;}
    .copy-btn{display:flex;align-items:center;justify-content:center;padding:6px;background:rgba(0,255,234,0.2);border:none;border-radius:8px;color:#00ffea;cursor:pointer;transition:all 0.3s;}
    .copy-btn:hover{background:rgba(0,255,234,0.4);}
    .copy-btn.copied{background:rgba(34,197,94,0.3);color:#22c55e;}
    .key-meta{display:flex;flex-wrap:wrap;gap:16px;margin-top:6px;font-size:0.75rem;color:rgba(255,255,255,0.6);}
    .key-meta span{display:flex;align-items:center;gap:4px;}
    .key-meta .in-use{color:#fbbf24;}
    .key-actions{display:flex;gap:8px;}
    .action-btn{display:flex;align-items:center;gap:6px;padding:10px 16px;border-radius:12px;font-size:0.85rem;font-weight:600;border:none;cursor:pointer;transition:all 0.3s;}
    .action-btn.extend{background:rgba(234,179,8,0.2);color:#fbbf24;}
    .action-btn.extend:hover{background:rgba(234,179,8,0.3);}
    .action-btn.unbind{background:rgba(139,92,246,0.2);color:#a78bfa;}
    .action-btn.unbind:hover{background:rgba(139,92,246,0.3);}
    .action-btn.revoke{background:rgba(239,68,68,0.2);color:#ef4444;}
    .action-btn.revoke:hover{background:rgba(239,68,68,0.3);}
    .extend-controls{display:flex;align-items:center;gap:8px;}
    .extend-select{padding:8px 12px;background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);border-radius:8px;color:#fff;font-size:0.85rem;}
    .extend-select option{background:#1e1b4b;}
    .apply-btn{padding:8px 16px;background:rgba(34,197,94,0.2);border:none;border-radius:8px;color:#22c55e;font-size:0.85rem;font-weight:600;cursor:pointer;}
    .apply-btn:hover{background:rgba(34,197,94,0.3);}
    .cancel-btn{padding:8px 16px;background:rgba(255,255,255,0.1);border:none;border-radius:8px;color:rgba(255,255,255,0.7);font-size:0.85rem;cursor:pointer;}
    .cancel-btn:hover{background:rgba(255,255,255,0.2);}
    .empty-state{text-align:center;color:rgba(255,255,255,0.5);padding:40px 0;}
    .toast{position:fixed;bottom:30px;right:30px;padding:16px 24px;border-radius:16px;font-weight:600;z-index:1000;animation:slideIn 0.3s ease-out;display:none;}
    .toast.success{background:rgba(34,197,94,0.9);color:#fff;}
    .toast.error{background:rgba(239,68,68,0.9);color:#fff;}
    .toast.show{display:block;}
    @keyframes slideIn{from{transform:translateX(100%);opacity:0;}to{transform:translateX(0);opacity:1;}}
    @keyframes scaleIn{from{opacity:0;transform:scale(0.95);}to{opacity:1;transform:scale(1);}}
    ::-webkit-scrollbar{width:6px;}
    ::-webkit-scrollbar-track{background:rgba(255,255,255,0.1);border-radius:3px;}
    ::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.3);border-radius:3px;}
  </style>
</head>
<body>
  <div class="bubbles"><span></span><span></span><span></span><span></span><span></span><span></span></div>
  <div class="container">
    <div class="header glass">
      <div class="header-left">
        <div class="header-icon">üîë</div>
        <div>
          <h1>SHADOW - TECHNOLOGY</h1>
          <p>SHADOW TECHNOLOGY HOT BY - ITACHIIXT</p>
        </div>
      </div>
    </div>
    <div class="stats-grid">
      <div class="stat-card glass"><div class="stat-label">TOTAL</div><div class="stat-value primary" id="totalKeys">0</div></div>
      <div class="stat-card glass"><div class="stat-label">ACTIVE</div><div class="stat-value success" id="activeKeys">0</div></div>
      <div class="stat-card glass"><div class="stat-label">USED</div><div class="stat-value secondary" id="usedKeys">0</div></div>
    </div>
    <div class="glass">
      <div class="section-title">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        SHADOW KEY'S TECHNOLOGY
      </div>
      <div class="add-key-form">
        <input type="text" id="newKeyInput" class="key-input" placeholder="Enter key name..." autocomplete="off">
        <button class="generate-btn" onclick="generateKey()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 3 21 3 21 8"/><line x1="4" y1="20" x2="21" y2="3"/><polyline points="21 16 21 21 16 21"/><line x1="15" y1="15" x2="21" y2="21"/><line x1="4" y1="4" x2="9" y2="9"/></svg>
          GENERATE
        </button>
        <select id="expirySelect" class="expiry-select">
          <option value="1">1 HOUR</option>
          <option value="6">6 HOURS</option>
          <option value="12">12 HOURS</option>
          <option value="24" selected>1 DAY</option>
          <option value="72">3 DAYS</option>
          <option value="168">7 DAYS</option>
          <option value="720">30 DAYS</option>
        </select>
        <button class="add-btn" onclick="addKey()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          CREATE
        </button>
      </div>
    </div>
    <div class="glass">
      <div class="keys-section">
        <div class="keys-header">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
          <span>SHADOW ACTIVE KEYS - <span id="activeCount" style="color:#22c55e;">0 NO</span></span>
        </div>
        <div id="activeKeysList" class="keys-list"><div class="empty-state">Loading...</div></div>
      </div>
    </div>
  </div>
  <div id="toast" class="toast"></div>
  
<script>
const firebaseConfig = {
  apiKey: "AIzaSyBaeiB0JJ3Rfo1t2_iJ2DyXnrDXiBTsnk0",
  authDomain: "Itachi.support.com",
  projectId: "itachiixt",
  storageBucket: "itachiixt.firebasestorage.app",
  messagingSenderId: "909234170582",
  appId: "1:909234170582:android:9618b2e57396a43f643777",
  databaseURL: "https://itachiixt-default-rtdb.firebaseio.com"
};

firebase.initializeApp(firebaseConfig);
const database = firebase.database();

let keys = [];
let extendingKey = null;

function showToast(message, type = 'success') {
  const toast = document.getElementById('toast');
  toast.textContent = message;
  toast.className = `toast ${type} show`;
  setTimeout(() => toast.classList.remove('show'), 3000);
}

function formatTimeRemaining(ms) {
  if (ms <= 0) return 'Expired';
  const hours = Math.floor(ms / (1000 * 60 * 60));
  const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));
  const days = Math.floor(hours / 24);
  if (days > 0) return `${days}d ${hours % 24}h`;
  if (hours > 0) return `${hours}h ${minutes}m`;
  return `${minutes}m`;
}

function generateKey() {
  const chars = 'CDEGHIMOSTUZ012345678911121314151617181920';
  let key = 'SH';
  for (let i = 0; i < 8; i++) key += chars.charAt(Math.floor(Math.random() * chars.length));
  document.getElementById('newKeyInput').value = key;
  showToast('* RANDOM KEY GENERATED *');
}

function copyKey(key) {
  navigator.clipboard.writeText(key).then(() => {
    showToast('* KEY COPIED TO CLIPBOARD *');
    const btn = document.getElementById(`copy-${key}`);
    if (btn) {
      btn.classList.add('copied');
      btn.innerHTML = `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>`;
      setTimeout(() => {
        btn.classList.remove('copied');
        btn.innerHTML = `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>`;
      }, 2000);
    }
  });
}

async function addKey() {
  const input = document.getElementById('newKeyInput');
  const key = input.value.trim().toUpperCase();
  const expiryHours = parseInt(document.getElementById('expirySelect').value);
  if (!key) { showToast('Please enter a key', 'error'); return; }
  try {
    const snapshot = await database.ref('keys/' + key).once('value');
    if (snapshot.exists()) { showToast('Key already exists', 'error'); return; }
    await database.ref('keys/' + key).set({
      createdAt: Date.now(),
      expiresAt: Date.now() + expiryHours * 60 * 60 * 1000,
      active: true,
      usageCount: 0,
      deviceId: null,
      lastLogin: null
    });
    input.value = '';
    showToast('* KEY ADDED SUCCESSFULLY *');
  } catch (error) { console.error('Error adding key:', error); showToast('Failed to add key', 'error'); }
}

async function revokeKey(key) {
  try {
    await database.ref('keys/' + key).remove();
    showToast('* KEY DELETED *');
  } catch (error) { console.error('Error revoking key:', error); showToast('Failed to delete key', 'error'); }
}

async function unbindKey(key) {
  try {
    await database.ref('keys/' + key).update({ deviceId: null });
    showToast('* KEY UNBOUND FROM DEVICE *');
  } catch (error) { console.error('Error unbinding key:', error); showToast('Failed to unbind key', 'error'); }
}

function startExtend(key) { extendingKey = key; renderKeys(); }
function cancelExtend() { extendingKey = null; renderKeys(); }

async function applyExtend(key) {
  const select = document.getElementById(`extend-${key}`);
  const hours = parseInt(select.value);
  const keyData = keys.find(k => k.key === key);
  if (keyData) {
    try {
      await database.ref('keys/' + key).update({ expiresAt: keyData.expiresAt + hours * 60 * 60 * 1000 });
      extendingKey = null;
      showToast(`* KEY EXTENDED BY ${hours} HOURS *`);
    } catch (error) { console.error('Error extending key:', error); showToast('Failed to extend key', 'error'); }
  }
}

function renderKeys() {
  const now = Date.now();
  const activeKeys = keys.filter(k => k.active && now < k.expiresAt);
  const usedCount = keys.filter(k => k.deviceId).length;

  document.getElementById('totalKeys').textContent = activeKeys.length;
  document.getElementById('activeKeys').textContent = activeKeys.length;
  document.getElementById('usedKeys').textContent = usedCount;
  document.getElementById('activeCount').textContent = activeKeys.length + ' NO';

  const activeList = document.getElementById('activeKeysList');
  if (activeKeys.length === 0) {
    activeList.innerHTML = '<div class="empty-state">No active keys</div>';
  } else {
    activeList.innerHTML = activeKeys.map(k => `
      <div class="key-card">
        <div class="key-info">
          <div class="key-name-row">
            <div class="key-name">${k.key}</div>
            <button id="copy-${k.key}" class="copy-btn" onclick="copyKey('${k.key}')" title="Copy Key">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            </button>
          </div>
          <div class="key-meta">
            <span>‚è±Ô∏è EXPIRES: ${formatTimeRemaining(k.expiresAt - now)}</span>
            <span>USE: ${k.usageCount || 0}</span>
            ${k.deviceId ? '<span class="in-use">üîí IN USE</span>' : ''}
          </div>
        </div>
        <div class="key-actions">
          ${extendingKey === k.key ? `
            <div class="extend-controls">
              <select id="extend-${k.key}" class="extend-select">
                <option value="1">+1h</option>
                <option value="6">+6h</option>
                <option value="24">+1d</option>
                <option value="168">+7d</option>
              </select>
              <button class="apply-btn" onclick="applyExtend('${k.key}')">Apply</button>
              <button class="cancel-btn" onclick="cancelExtend()">Cancel</button>
            </div>
          ` : `
            <button class="action-btn extend" onclick="startExtend('${k.key}')">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              Extend
            </button>
            ${k.deviceId ? `<button class="action-btn unbind" onclick="unbindKey('${k.key}')">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
              Unbind
            </button>` : ''}
            <button class="action-btn revoke" onclick="revokeKey('${k.key}')">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
              Delete
            </button>
          `}
        </div>
      </div>
    `).join('');
  }
}

database.ref('keys').on('value', (snapshot) => {
  if (snapshot.exists()) {
    const data = snapshot.val();
    keys = Object.entries(data).map(([key, value]) => ({
      key,
      createdAt: value.createdAt || Date.now(),
      expiresAt: value.expiresAt || Date.now() + 24 * 60 * 60 * 1000,
      active: value.active !== false,
      usageCount: value.usageCount || 0,
      deviceId: value.deviceId,
      lastLogin: value.lastLogin
    }));
  } else { keys = []; }
  renderKeys();
});

setInterval(renderKeys, 30000);
</script>
</body>
</html>

